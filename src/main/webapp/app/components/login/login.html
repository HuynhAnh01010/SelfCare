<div class="login-container-wrapper">

    <div ui-view="leftContent" class="login-left-column-wrapper col-lg-6 d-none d-md-block d-lg-block"></div>

    <div class="login-right-column-wrapper col-lg-6">
        <div class="login-right-column-content-wrapper">
            <div style="max-width: 400px; width: 100%; margin-top: 50px;">
                <a href="https://rssp.mobile-id.vn/" target="_blank" rel="noopener noreferrer"
                   style="text-align: center; margin-top: 15px;">
                    <div class="feid-logo-img logo-img-large">
                        <img src="./content/images/remote-signing.png"
                             alt="SelfCare mID logo">
                    </div>
                </a>
                <div>
                    <div ng-if="!vm.loginQr">
                        <div ng-if="!vm.showVc">
                            <h4 class="feid-heading heading-indigo heading-center f20"
                                data-translate="login.form.title.indentity"></h4>
                            <div class="row center-xs">
                                <div class=" col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center">

                                    <div class="box">
                                        <div class="g-scrolling-carousel feid-button-switch-group2">
                                            <!--overflow: scroll;-->
                                            <div class="items" style="" ng-init="vm.userPlaceHolder = 'login.method.userName';vm.userType = 'USERNAME'" >

                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'USERNAME'}"
                                                     ng-click="vm.userType = 'USERNAME';vm.userPlaceHolder = 'login.method.userName'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.userName'| translate}}</span>
                                                </div>
                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'PERSONAL-ID'}"
                                                     ng-click="vm.userType = 'PERSONAL-ID';vm.userPlaceHolder = 'login.method.identityCard'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.identityCard'| translate}}</span>
                                                </div>
                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'PASSPORT-ID'}"
                                                     ng-click="vm.userType = 'PASSPORT-ID';vm.userPlaceHolder = 'login.method.passport'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.passport'| translate}}</span>
                                                </div>
                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'CITIZEN-IDENTITY-CARD'}"
                                                     ng-click="vm.userType = 'CITIZEN-IDENTITY-CARD';vm.userPlaceHolder = 'login.method.citizenCard'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.citizenCard'| translate}}</span>
                                                </div>
                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'BUDGET-CODE'}"
                                                     ng-click="vm.userType = 'BUDGET-CODE';vm.userPlaceHolder = 'login.method.budgetCode'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.budgetCode'| translate}}</span>
                                                </div>
                                                <div class="feid-button-switch-item" data-checked="false"
                                                     ng-class="{'active': vm.userType == 'TAX-CODE'}"
                                                     ng-click="vm.userType = 'TAX-CODE';vm.userPlaceHolder = 'login.method.taxCode'">
                                                    <span class="feid-text text-indigo text-center">{{'login.method.taxCode'| translate}}</span>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--min-height: 278px;-->
                            <div style="">
                                <div class="row center-xs">
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <div class="box">
                                            <!--min-height: 260px;-->
                                            <div style=" ">
                                                <!--vm.get2Factor($event)-->
                                                <form id="loginEmailInputForm" name="loginEmailInputForm" >
                                                    <div style="text-align: left; max-width: 400px;">
                                                        <div>
                                                            <label class="feid-label feid-label-default feid-label-warning"
                                                                   ng-class="{'feid-label-hidden' : !(loginEmailInputForm.username.$dirty && loginEmailInputForm.username.$invalid)}">

                                                                <span class="help-block "
                                                                      ng-show="loginEmailInputForm.username.$error.required"
                                                                      translate="global.validate.isRequired"
                                                                      translate-values='{ field: vm.userPlaceHolder }'>
                                                                    is required
                                                                </span>
                                                                <span class="help-block"
                                                                      ng-show="loginEmailInputForm.username.$error.minlength"
                                                                      translate="global.validate.minlength"
                                                                      translate-values='{ field: vm.userPlaceHolder , length: 2}'>
                                                                    is required to be at least 4 characters
                                                                </span>
                                                                <span class="help-block"
                                                                      ng-show="loginEmailInputForm.username.$error.maxlength"
                                                                      translate="global.validate.maxlength"
                                                                      translate-values='{ field: vm.userPlaceHolder , length: 50}'>
                                                                    cannot be longer than 50 characters
                                                                </span>
                                                            </label>
                                                            <input name="username" id="username" type="text" required autocomplete="off"
                                                                   class="feid-input input-medium input-default feid-input-center"
                                                                   placeholder="{{vm.userPlaceHolder| translate}}"
                                                                   ng-model="vm.username" minlength="2"
                                                                   ng-disabled="vm.disabledStep"
                                                                   maxlength="50"
                                                                   value=""  autocomplete="new-password">
                                                        </div>
                                                    </div>
                                                    <!---->
                                                    <div style="text-align: left; max-width: 400px;" ng-show="vm.checkLG">
<!--                                                        ng-if="!vm.ssoEnabled"-->

                                                        <div style="position: relative;">
                                                            <label class="feid-label feid-label-default feid-label-warning"
                                                                   ng-class="{'feid-label-hidden' : !(loginEmailInputForm.password.$dirty && loginEmailInputForm.password.$invalid)}">

                                                                <span class="help-block"
                                                                      ng-show="loginEmailInputForm.password.$error.required"
                                                                      translate="global.validate.isRequired"
                                                                      translate-values='{ field: "login.form.password.placeholder" }'>
                                                                    is required
                                                                </span>
                                                                <span class="help-block"
                                                                      ng-show="loginEmailInputForm.password.$error.minlength"
                                                                      translate="global.validate.minlength"
                                                                      translate-values='{ field: "login.form.password.placeholder" , length: 2}'>
                                                                    is required to be at least 4 characters
                                                                </span>
                                                                <span class="help-block"
                                                                      ng-show="loginEmailInputForm.password.$error.maxlength"
                                                                      translate="global.validate.maxlength"
                                                                      translate-values='{ field: "login.form.password.placeholder" , length: 50}'>
                                                                    cannot be longer than 50 characters
                                                                </span>
                                                            </label>
                                                            <input type="password" name="password"  autocomplete="off"
                                                                   ng-model="vm.password" 
                                                                   autocomplete="new-password"
                                                                   class="feid-input input-medium input-default feid-input-center"
                                                                   ng-attr-type="{{ showPassword ? 'text':'password'}}"
                                                                   placeholder="{{'login.form.password.placeholder'| translate}}">
                                                            <i ng-click="toggleShowPassword();" class="sh-login" ng-class="{'sc-eye': showPassword, 'sc-eye-slash': !showPassword}" style="cursor: pointer;" ></i>
                                                        </div>
                                                    </div>

                                                    <div class="row center-xs">
                                                        <div class="">
                                                            <div class="box">
                                                                <!---->
                                                                <div class="" style="text-align: center; margin-top: 24px;" ng-show="vm.checkLG">
<!--                                                                    ng-if="!vm.ssoEnabled-->
                                                                    <md-checkbox ng-model="vm.rememberMe" aria-label="{{'login.form.rememberme'| translate}}">
                                                                        {{'login.form.rememberme'| translate}}
                                                                    </md-checkbox>
                                                                </div>
                                                                <div class="dis-flex-center">
                                                                    <div style="text-align: center; padding: 0 .5rem;" ng-show="vm.disabledStep">
                                                                        <button type="button"
                                                                                ng-click="vm.cancelStep1();"
                                                                                class="feid-button button-indigo_inverse button-medium"
                                                                                aria-label="FeID email submit button"
                                                                                form="loginEmailInputForm"
                                                                                data-translate="login.form.button.cancel">
                                                                            Log in
                                                                        </button>
                                                                    </div>

                                                                    <div style="text-align: center; margin-top: 2rem;" ng-if="!vm.checkLG">
                                                                        <button type="submit"
                                                                                ng-click="vm.preLogin($event);"
                                                                                class="feid-button button-green button-medium"
                                                                                aria-label="FeID email submit button"
                                                                                form="loginEmailInputForm"
                                                                                ng-disabled="loginEmailInputForm.$invalid"
                                                                                data-translate="login.form.button.next">
                                                                            Next
                                                                        </button>
                                                                    </div>
                                                                    <!---->
                                                                    
                                                                    <div style="text-align: center; padding: 0 .5rem;" ng-if="vm.checkLG">
                                                                        <!--ng-if="!vm.ssoEnabled"-->
                                                                        <button id="LoginForm_Email_SubmitButton"
                                                                                
                                                                                type="submit"
                                                                                ng-click="vm.loginStep2($event);"
                                                                                class="feid-button button-green button-medium"
                                                                                aria-label="FeID email submit button"
                                                                                form="loginEmailInputForm"

                                                                                data-translate="login.form.button.login">
                                                                            Log in
                                                                        </button>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div ng-if="vm.timeoutMsg" style="text-transform: uppercase;">
                                                        <div class="alert alert-danger"
                                                             style="margin-top: 24px;margin-bottom: 0px;text-align: center; text-transform: uppercase;" id="successClose">
                                                            {{"login.messages.err"| translate}}
                                                        </div>
                                                    </div>
                                                    <div class="row center-xs" style="text-transform: uppercase;">
                                                        <message-dialog style="width: 100%; text-transform: uppercase;" obj="vm.dialogMessage"> </message-dialog>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: center; margin-top: 10px;">
                                <!--vm.loginQr = true-->
                                <button id="LoginForm_LogInWithQrCodeButton" type="button" ng-click="vm.loginWithQr();"

                                        class="feid-button button-indigo_text button-small" aria-label="FeID button"
                                        data-translate="login.form.button.switch.qrcode">Log In
                                    with QR Code
                                </button>
                            </div>

                            <div style="text-align: center; margin-top: 5px;">
                                <button  ui-sref="resetPass" id="LoginForm_LogInWithQrCodeButton" type="button"
                                         class="feid-button button-indigo_text button-small" aria-label="FeID button"
                                         data-translate="login.form.button.forgot.password">Did you forget your password?
                                </button>

                            </div>

                        </div>
                        <div ng-show="vm.showVc">
                            <div class=" center-xs">
                                <div class=" col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="box" style="max-width: 400px">
                                        <div class="text-center">
                                            <p style="margin: 24px 20px" class="f15" translate="login.vcCode.description">
                                                Make sure that the verification code matches the code displayed on your
                                                mobile phone screen
                                            </p>
                                            <div class="mobile-signature-login-info-v2__block__timer">
                                                <span class="btn-verification">{{vm.vc}}</span>
                                                <!--<i class="fa fa-spinner fa-spin"></i>-->
                                                <div id="circularG">
                                                    <div id="circularG_1" class="circularG"></div>
                                                    <div id="circularG_2" class="circularG"></div>
                                                    <div id="circularG_3" class="circularG"></div>
                                                    <div id="circularG_4" class="circularG"></div>
                                                    <div id="circularG_5" class="circularG"></div>
                                                    <div id="circularG_6" class="circularG"></div>
                                                    <div id="circularG_7" class="circularG"></div>
                                                    <div id="circularG_8" class="circularG"></div>
                                                </div>
                                                <span class="feid-text"  translate="login.vcCode.timeLeft"
                                                      translate-values='{ time: vm.validityPeriod}'>Time left <span class="timeout">{{vm.validityPeriod}}</span> s</span>
                                            </div>
                                            <button type="button" style="margin:24px 0px"
                                                    class="feid-button button-primary button-medium"
                                                    ng-click="vm.cancelLogin()">
                                                {{'global.button.cancel'| translate}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>


                <div id="LoginPage_QRForm_Wrapper" style="max-width: 400px; width: 100%;" ng-if="vm.loginQr">

                    <div class="row center-xs">
                        <h4 class="feid-heading heading-indigo heading-center f20"
                            data-translate="login.form.title.qrcode"></h4>
                        <div class="col-xs-12">
                            <div class="box">
                                <div style="text-align: center;">
                                    <div>
                                        <div class="feid-qr-code-image-wrapper qr-code-image-wrapper-large qr-code-image-centered">
                                            <img ng-if="!vm.onBlur" data-ng-src="{{vm.rqCode}}" style="width: 100%;max-width: 250px">
                                            <img ng-if="vm.onBlur" src="./content/images/qrCode-blur.jpg" ng-click="vm.loginWithQr();" style="width: 100%;max-width: 250px; cursor: pointer;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="box">
                                <div style="text-align: center; margin-top: 15px;">
                                    <button id="LoginForm_LogInWithUsernameButton" type="button"
                                            ng-click="vm.changeLoginQr();"
                                            class="feid-button button-indigo_text button-small "
                                            aria-label="FeID button"
                                            data-translate="login.form.button.switch.indentity">Log In with username
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div ui-view="footerLanguage" class="row middle-xs between-xs"></div>
            </div>
        </div>
    </div>
</div>

